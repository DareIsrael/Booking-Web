{"ast":null,"code":"// import React, {useState, useContext, useEffect} from 'react'\n// import { Container, Row, Col, Form, FormGroup, Button } from 'reactstrap'\n// import { Link , useNavigate} from 'react-router-dom'\n// import '../../styles/login.css'\n// import loginImg from '../../assets/images/login.png'\n// import userIcon from '../../assets/images/user.png'\n// import { AuthContext } from '../context/AuthContext'\n\n// import { BASE_URL } from '../../utils/config'\n// import FadeLoader from \"react-spinners/FadeLoader\";\n// import useFetch from '../../hooks/useFetch'\n\n// const Login = () => {\n\n//   const [loading, setLoading] = useState(false)\n//   useEffect(()=> {\n//      setLoading(true)\n//      setTimeout(()=> {\n//      setLoading(false)\n//      }, 5000)\n//   }, [])\n\n//   const [credentials, setCredentials] = useState({\n//     email:undefined,\n//     password:undefined\n// })\n// const {dispatch } = useContext (AuthContext)\n// const navigate = useNavigate()\n\n// const handleChange = e => {\n//   setCredentials(prev=>({...prev, [e.target.id]:e.target.value}))\n// }\n\n// const handleClick = async e => {\n//   e.preventDefault();\n//   dispatch ({type:'LOGIN_START'})\n\n//   try {\n\n//     const res = await fetch (`${BASE_URL}/auth/login`, {\n//       method:'post',\n//       headers : {\n//         'content-type' : 'application/json'\n//       },\n//       credentials:'include',\n//       body: JSON.stringify(credentials)\n//     })\n\n//    const result = await res.json();\n//    if(!res.ok) alert (result.message);\n\n//    navigate('/')\n\n//    dispatch ({type: 'LOGIN_SUCCESS', payload:result.data})\n\n//   }catch (err) {\n//     dispatch({type: 'LOGIN_FAILURE', payload:err.message})\n//   }\n// }\n\n//   return (\n//     <section>\n//      <Container>\n//       <Row>\n//         <Col lg='8' className='m-auto'>\n//         <div className='login__container d-flex justify-content-between'>\n//         <div className='login__img'>\n//          <img src={loginImg} alt=''/>\n//         </div>\n//         <div className='login__form'>\n//          <div className='user'>\n//          <img src={userIcon} alt=''/>\n//          </div>\n//          <h2>Login</h2>\n//          <Form onSubmit={handleClick}>\n//           <FormGroup>\n//             <input type='email' placeholder='Email' required id='email' onChange={handleChange}/>\n//           </FormGroup>\n//           <FormGroup>\n//             <input type='password' placeholder='Password' required id='password' onChange={handleChange}/>\n//           </FormGroup>\n\n//          <Button className='btn secondary_btn auth__btn' type='submit'>Login</Button>\n\n//          </Form>\n//          <p>Don't have an account?<Link to='/register'>Create</Link></p>\n//         </div>\n//         </div>\n//         </Col>\n//       </Row>\n//      </Container>\n//     </section>\n//   )\n// }\n\n// export default Login\n\n// import React, { useState, useContext } from 'react';\n// import { Container, Row, Col, Form, FormGroup, Button } from 'reactstrap';\n// import { Link, useNavigate } from 'react-router-dom';\n// import '../../styles/login.css';\n// import loginImg from '../../assets/images/login.png';\n// import userIcon from '../../assets/images/user.png';\n// import { AuthContext } from '../context/AuthContext';\n// import { BASE_URL } from '../../utils/config';\n// import FadeLoader from \"react-spinners/FadeLoader\";\n// import useFetch from '../../hooks/useFetch';\n\n// const Login = () => {\n//   const { dispatch } = useContext(AuthContext);\n//   const navigate = useNavigate();\n//   const { loading, error, fetchData } = useFetch();\n\n//   const [credentials, setCredentials] = useState({\n//     email: undefined,\n//     password: undefined\n//   });\n\n//   const handleChange = e => {\n//     setCredentials(prev => ({ ...prev, [e.target.id]: e.target.value }));\n//   }\n\n//   const handleClick = async e => {\n//     e.preventDefault();\n//     dispatch({ type: 'LOGIN_START' });\n\n//     try {\n//       const res = await fetchData(`${BASE_URL}/auth/login`, {\n//         method: 'post',\n//         headers: {\n//           'content-type': 'application/json'\n//         },\n//         credentials: 'include',\n//         body: JSON.stringify(credentials)\n//       });\n\n//       const result = await res.json();\n//       if (!res.ok) {\n//         throw new Error(result.message);\n//       }\n\n//       dispatch({ type: 'LOGIN_SUCCESS', payload: result.data });\n//       navigate('/');\n//     } catch (err) {\n//       dispatch({ type: 'LOGIN_FAILURE', payload: err.message });\n//     }\n//   }\n\n//   return (\n//     <section>\n//       <Container>\n//         <Row>\n//           <Col lg='8' className='m-auto'>\n//             <div className='login__container d-flex justify-content-between'>\n//               <div className='login__img'>\n//                 <img src={loginImg} alt='' />\n//               </div>\n//               <div className='login__form'>\n//                 <div className='user'>\n//                   <img src={userIcon} alt='' />\n//                 </div>\n//                 <h2>Login</h2>\n//                 <Form onSubmit={handleClick}>\n//                   <FormGroup>\n//                     <input type='email' placeholder='Email' required id='email' onChange={handleChange} />\n//                   </FormGroup>\n//                   <FormGroup>\n//                     <input type='password' placeholder='Password' required id='password' onChange={handleChange} />\n//                   </FormGroup>\n//                   <Button className='btn secondary_btn auth__btn' type='submit'>Login</Button>\n//                   {loading && (\n//                     <FadeLoader color={\"#E25E3E\"} loading={loading} size={100} aria-label=\"Loading Spinner\" data-testid=\"loader\" />\n//                   )}\n//                 </Form>\n//                 <p>Don't have an account? <Link to='/register'>Create</Link></p>\n//                 {error && <p className=\"error-message\">{error}</p>}\n//               </div>\n//             </div>\n//           </Col>\n//         </Row>\n//       </Container>\n//     </section>\n//   )\n// }\n\n// export default Login;","map":{"version":3,"names":[],"sources":["/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Pages/Login.js"],"sourcesContent":["// import React, {useState, useContext, useEffect} from 'react'\n// import { Container, Row, Col, Form, FormGroup, Button } from 'reactstrap'\n// import { Link , useNavigate} from 'react-router-dom'\n// import '../../styles/login.css'\n// import loginImg from '../../assets/images/login.png'\n// import userIcon from '../../assets/images/user.png'\n// import { AuthContext } from '../context/AuthContext'\n\n// import { BASE_URL } from '../../utils/config'\n// import FadeLoader from \"react-spinners/FadeLoader\";\n// import useFetch from '../../hooks/useFetch'\n\n\n// const Login = () => {\n\n//   const [loading, setLoading] = useState(false)\n//   useEffect(()=> {\n//      setLoading(true)\n//      setTimeout(()=> {\n//      setLoading(false)\n//      }, 5000)\n//   }, [])\n \n  \n\n\n  \n//   const [credentials, setCredentials] = useState({\n//     email:undefined,\n//     password:undefined\n// })\n// const {dispatch } = useContext (AuthContext)\n// const navigate = useNavigate()\n\n// const handleChange = e => {\n//   setCredentials(prev=>({...prev, [e.target.id]:e.target.value}))\n// }\n\n// const handleClick = async e => {\n//   e.preventDefault();\n//   dispatch ({type:'LOGIN_START'})\n\n//   try {\n    \n//     const res = await fetch (`${BASE_URL}/auth/login`, {\n//       method:'post',\n//       headers : {\n//         'content-type' : 'application/json'\n//       },\n//       credentials:'include',\n//       body: JSON.stringify(credentials)\n//     })\n\n//    const result = await res.json();\n//    if(!res.ok) alert (result.message);\n   \n//    navigate('/')\n  \n\n//    dispatch ({type: 'LOGIN_SUCCESS', payload:result.data})\n   \n\n//   }catch (err) {\n//     dispatch({type: 'LOGIN_FAILURE', payload:err.message})\n//   }\n// }\n\n\n//   return (\n//     <section>\n//      <Container>\n//       <Row>\n//         <Col lg='8' className='m-auto'>\n//         <div className='login__container d-flex justify-content-between'>\n//         <div className='login__img'>\n//          <img src={loginImg} alt=''/>\n//         </div>\n//         <div className='login__form'>\n//          <div className='user'>\n//          <img src={userIcon} alt=''/>\n//          </div>\n//          <h2>Login</h2>\n//          <Form onSubmit={handleClick}>\n//           <FormGroup>\n//             <input type='email' placeholder='Email' required id='email' onChange={handleChange}/>\n//           </FormGroup>\n//           <FormGroup>\n//             <input type='password' placeholder='Password' required id='password' onChange={handleChange}/>\n//           </FormGroup>\n          \n           \n//          <Button className='btn secondary_btn auth__btn' type='submit'>Login</Button>\n          \n      \n          \n          \n          \n//          </Form>\n//          <p>Don't have an account?<Link to='/register'>Create</Link></p>\n//         </div>\n//         </div>\n//         </Col>\n//       </Row>\n//      </Container>\n//     </section>\n//   )\n// }\n\n// export default Login\n\n\n\n// import React, { useState, useContext } from 'react';\n// import { Container, Row, Col, Form, FormGroup, Button } from 'reactstrap';\n// import { Link, useNavigate } from 'react-router-dom';\n// import '../../styles/login.css';\n// import loginImg from '../../assets/images/login.png';\n// import userIcon from '../../assets/images/user.png';\n// import { AuthContext } from '../context/AuthContext';\n// import { BASE_URL } from '../../utils/config';\n// import FadeLoader from \"react-spinners/FadeLoader\";\n// import useFetch from '../../hooks/useFetch';\n\n// const Login = () => {\n//   const { dispatch } = useContext(AuthContext);\n//   const navigate = useNavigate();\n//   const { loading, error, fetchData } = useFetch();\n\n//   const [credentials, setCredentials] = useState({\n//     email: undefined,\n//     password: undefined\n//   });\n\n//   const handleChange = e => {\n//     setCredentials(prev => ({ ...prev, [e.target.id]: e.target.value }));\n//   }\n\n//   const handleClick = async e => {\n//     e.preventDefault();\n//     dispatch({ type: 'LOGIN_START' });\n\n//     try {\n//       const res = await fetchData(`${BASE_URL}/auth/login`, {\n//         method: 'post',\n//         headers: {\n//           'content-type': 'application/json'\n//         },\n//         credentials: 'include',\n//         body: JSON.stringify(credentials)\n//       });\n\n//       const result = await res.json();\n//       if (!res.ok) {\n//         throw new Error(result.message);\n//       }\n\n//       dispatch({ type: 'LOGIN_SUCCESS', payload: result.data });\n//       navigate('/');\n//     } catch (err) {\n//       dispatch({ type: 'LOGIN_FAILURE', payload: err.message });\n//     }\n//   }\n\n//   return (\n//     <section>\n//       <Container>\n//         <Row>\n//           <Col lg='8' className='m-auto'>\n//             <div className='login__container d-flex justify-content-between'>\n//               <div className='login__img'>\n//                 <img src={loginImg} alt='' />\n//               </div>\n//               <div className='login__form'>\n//                 <div className='user'>\n//                   <img src={userIcon} alt='' />\n//                 </div>\n//                 <h2>Login</h2>\n//                 <Form onSubmit={handleClick}>\n//                   <FormGroup>\n//                     <input type='email' placeholder='Email' required id='email' onChange={handleChange} />\n//                   </FormGroup>\n//                   <FormGroup>\n//                     <input type='password' placeholder='Password' required id='password' onChange={handleChange} />\n//                   </FormGroup>\n//                   <Button className='btn secondary_btn auth__btn' type='submit'>Login</Button>\n//                   {loading && (\n//                     <FadeLoader color={\"#E25E3E\"} loading={loading} size={100} aria-label=\"Loading Spinner\" data-testid=\"loader\" />\n//                   )}\n//                 </Form>\n//                 <p>Don't have an account? <Link to='/register'>Create</Link></p>\n//                 {error && <p className=\"error-message\">{error}</p>}\n//               </div>\n//             </div>\n//           </Col>\n//         </Row>\n//       </Container>\n//     </section>\n//   )\n// }\n\n// export default Login;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAGA;;AAGA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}