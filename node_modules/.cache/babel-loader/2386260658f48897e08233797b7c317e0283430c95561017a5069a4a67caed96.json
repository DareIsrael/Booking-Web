{"ast":null,"code":"\n// import React, { useState, useContext } from 'react';\n// import { Form, FormGroup, ListGroupItem, Button, ListGroup } from 'reactstrap';\n// import { useNavigate } from 'react-router-dom';\n// import { AuthContext } from '../context/AuthContext';\n// import { BASE_URL } from '../../utils/config';\n// import jsPDF from 'jspdf';\n\n// const Booking = ({ tour, avgRating }) => {\n//     const { price, reviews, title } = tour;\n//     const navigate = useNavigate();\n//     const { user } = useContext(AuthContext);\n//     const [booking, setBooking] = useState({\n//         userId: user && user._id,\n//         userEmail: user && user.email,\n//         tourName: title,\n//         fullName: '',\n//         phone: '',\n//         guestSize: 1,\n//         bookAt: ''\n//     });\n\n//     const serviceFee = 10;\n//     const totalAmount = Number(price) * Number(booking.guestSize) + Number(serviceFee);\n\n//     const handleChange = e => {\n//         setBooking(prev => ({ ...prev, [e.target.id]: e.target.value }));\n//     }\n\n//     const handleClick = async e => {\n//         e.preventDefault();\n//         console.log(booking);\n\n//         try {\n//             if (!user || user === undefined || user === null) {\n//                 return alert('Please sign in');\n//             }\n\n//             const res = await fetch(`${BASE_URL}/booking`, {\n//                 method: 'post',\n//                 headers: {\n//                     'content-type': 'application/json'\n//                 },\n//                 credentials: 'include',\n//                 body: JSON.stringify(booking)\n//             });\n\n//             const result = await res.json();\n\n//             if (!res.ok) {\n//                 return alert(result.message);\n//             }\n\n//             generateTicket(booking);\n\n//             navigate(\"/thank-you\");\n//         } catch (err) {\n//             alert('Fill the form');\n//         }\n//     }\n\n//     const generateTicket = (bookingDetails) => {\n//         const doc = new jsPDF();\n//         doc.text(10, 10, `Tour Name: ${bookingDetails.tourName}`);\n//         doc.text(10, 20, `Full Name: ${bookingDetails.fullName}`);\n//         doc.text(10, 30, `Phone: ${bookingDetails.phone}`);\n//         doc.text(10, 40, `Guest Size: ${bookingDetails.guestSize}`);\n//         doc.text(10, 50, `Booked At: ${bookingDetails.bookAt}`);\n//         doc.save(\"ticket.pdf\");\n//     };\n\n//     return (\n//         <div className='booking'>\n//             <div className='booking__top d-flex align-items-center justify-content-between'>\n//                 <h3>#{price},000<span>/per person</span></h3>\n//                 <span className='tour__rating d-flex align-items-center gap-1'>\n//                     <i class=\"ri-star-s-fill\"></i>\n//                     {avgRating === 0 ? null : avgRating} ({reviews?.length})\n//                 </span>\n//             </div>\n\n//             {/* Booking form */}\n//             <div className='booking__form'>\n//                 <h5>Information</h5>\n//                 <Form className='booking__info-form' onSubmit={handleClick}>\n//                     <FormGroup>\n//                         <input type='text' placeholder='Full Name' required id='fullName' onChange={handleChange}></input>\n//                     </FormGroup>\n//                     <FormGroup>\n//                         <input type='text' placeholder='Phone' required id='phone' onChange={handleChange}></input>\n//                     </FormGroup>\n//                     <FormGroup className='d-flex align-items-center gap-3'>\n//                         <input type='date' placeholder='' required id='bookAt' onChange={handleChange}></input>\n//                         <input type='number' placeholder='Traveller' required id='guestSize' onChange={handleChange}></input>\n//                     </FormGroup>\n//                 </Form>\n//             </div>\n\n//             {/* Booking bottom */}\n//             <div className='booking__bottom'>\n//                 <ListGroup>\n//                     <ListGroupItem className='border-0 px-0'>\n//                         <h5 className='d-flex align-items-center gap-1'>#{price},000<i class=\"ri-close-line\"></i>1 person</h5>\n//                         <span>#{price},000</span>\n//                     </ListGroupItem>\n//                     <ListGroupItem className='border-0 px-0'>\n//                         <h5>Service charge</h5>\n//                         <span>#{serviceFee},000</span>\n//                     </ListGroupItem>\n//                     <ListGroupItem className='border-0 px-0 total'>\n//                         <h5>Total</h5>\n//                         <span>#{totalAmount},000</span>\n//                     </ListGroupItem>\n//                 </ListGroup>\n//                 <Button className='btn primary__btn w-100 mt-4' onClick={handleClick}>Book Now</Button>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default Booking;","map":{"version":3,"names":[],"sources":["/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/Booking.js"],"sourcesContent":["\n// import React, { useState, useContext } from 'react';\n// import { Form, FormGroup, ListGroupItem, Button, ListGroup } from 'reactstrap';\n// import { useNavigate } from 'react-router-dom';\n// import { AuthContext } from '../context/AuthContext';\n// import { BASE_URL } from '../../utils/config';\n// import jsPDF from 'jspdf';\n\n// const Booking = ({ tour, avgRating }) => {\n//     const { price, reviews, title } = tour;\n//     const navigate = useNavigate();\n//     const { user } = useContext(AuthContext);\n//     const [booking, setBooking] = useState({\n//         userId: user && user._id,\n//         userEmail: user && user.email,\n//         tourName: title,\n//         fullName: '',\n//         phone: '',\n//         guestSize: 1,\n//         bookAt: ''\n//     });\n\n//     const serviceFee = 10;\n//     const totalAmount = Number(price) * Number(booking.guestSize) + Number(serviceFee);\n\n//     const handleChange = e => {\n//         setBooking(prev => ({ ...prev, [e.target.id]: e.target.value }));\n//     }\n\n//     const handleClick = async e => {\n//         e.preventDefault();\n//         console.log(booking);\n\n//         try {\n//             if (!user || user === undefined || user === null) {\n//                 return alert('Please sign in');\n//             }\n\n//             const res = await fetch(`${BASE_URL}/booking`, {\n//                 method: 'post',\n//                 headers: {\n//                     'content-type': 'application/json'\n//                 },\n//                 credentials: 'include',\n//                 body: JSON.stringify(booking)\n//             });\n\n//             const result = await res.json();\n\n//             if (!res.ok) {\n//                 return alert(result.message);\n//             }\n\n//             generateTicket(booking);\n\n//             navigate(\"/thank-you\");\n//         } catch (err) {\n//             alert('Fill the form');\n//         }\n//     }\n\n//     const generateTicket = (bookingDetails) => {\n//         const doc = new jsPDF();\n//         doc.text(10, 10, `Tour Name: ${bookingDetails.tourName}`);\n//         doc.text(10, 20, `Full Name: ${bookingDetails.fullName}`);\n//         doc.text(10, 30, `Phone: ${bookingDetails.phone}`);\n//         doc.text(10, 40, `Guest Size: ${bookingDetails.guestSize}`);\n//         doc.text(10, 50, `Booked At: ${bookingDetails.bookAt}`);\n//         doc.save(\"ticket.pdf\");\n//     };\n\n//     return (\n//         <div className='booking'>\n//             <div className='booking__top d-flex align-items-center justify-content-between'>\n//                 <h3>#{price},000<span>/per person</span></h3>\n//                 <span className='tour__rating d-flex align-items-center gap-1'>\n//                     <i class=\"ri-star-s-fill\"></i>\n//                     {avgRating === 0 ? null : avgRating} ({reviews?.length})\n//                 </span>\n//             </div>\n\n//             {/* Booking form */}\n//             <div className='booking__form'>\n//                 <h5>Information</h5>\n//                 <Form className='booking__info-form' onSubmit={handleClick}>\n//                     <FormGroup>\n//                         <input type='text' placeholder='Full Name' required id='fullName' onChange={handleChange}></input>\n//                     </FormGroup>\n//                     <FormGroup>\n//                         <input type='text' placeholder='Phone' required id='phone' onChange={handleChange}></input>\n//                     </FormGroup>\n//                     <FormGroup className='d-flex align-items-center gap-3'>\n//                         <input type='date' placeholder='' required id='bookAt' onChange={handleChange}></input>\n//                         <input type='number' placeholder='Traveller' required id='guestSize' onChange={handleChange}></input>\n//                     </FormGroup>\n//                 </Form>\n//             </div>\n\n//             {/* Booking bottom */}\n//             <div className='booking__bottom'>\n//                 <ListGroup>\n//                     <ListGroupItem className='border-0 px-0'>\n//                         <h5 className='d-flex align-items-center gap-1'>#{price},000<i class=\"ri-close-line\"></i>1 person</h5>\n//                         <span>#{price},000</span>\n//                     </ListGroupItem>\n//                     <ListGroupItem className='border-0 px-0'>\n//                         <h5>Service charge</h5>\n//                         <span>#{serviceFee},000</span>\n//                     </ListGroupItem>\n//                     <ListGroupItem className='border-0 px-0 total'>\n//                         <h5>Total</h5>\n//                         <span>#{totalAmount},000</span>\n//                     </ListGroupItem>\n//                 </ListGroup>\n//                 <Button className='btn primary__btn w-100 mt-4' onClick={handleClick}>Book Now</Button>\n//             </div>\n//         </div>\n//     );\n// }\n\n// export default Booking;\n\n"],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}