{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingDetailsPDF = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  // const [booking, setBooking] = useState(null);\n\n  const {\n    bookings,\n    dispatch\n  } = useTicketContext();\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const response = await fetch(`${BASE_URL}/booking`);\n      const json = await response.json();\n      if (response.ok) {\n        dispatch({\n          type: 'SET_TICKETS',\n          payload: json\n        });\n        // setPosts(json)\n      }\n    };\n\n    fetchPosts();\n  }, []);\n  const pdfGenerate = () => {\n    if (!bookings) {\n      console.error(\"Booking details not available\");\n      return;\n    }\n\n    // Generate PDF using booking details\n    const doc = new jsPDF();\n    doc.text(10, 10, `Full Name: ${bookings.fullName}`);\n    doc.text(10, 20, `Phone: ${bookings.phone}`);\n    doc.text(10, 30, `User ID: ${bookings.userId}`);\n    doc.text(10, 40, `Email: ${bookings.userEmail}`);\n    doc.text(10, 50, `Guest Size: ${bookings.guestSize}`);\n    doc.text(10, 60, `Booked At: ${new Date(bookings.bookAt).toLocaleString()}`);\n\n    // Save the PDF\n    doc.save(\"ticket.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: pdfGenerate,\n      children: \"Download Ticket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), bookings.map((booking, index) => {\n      /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: booking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(BookingDetailsPDF, \"IHixH423fO4dHZ4VbusZa0YhGSc=\", false, function () {\n  return [useParams, useTicketContext];\n});\n_c = BookingDetailsPDF;\nexport default BookingDetailsPDF;\nvar _c;\n$RefreshReg$(_c, \"BookingDetailsPDF\");","map":{"version":3,"names":["React","useState","useEffect","jsPDF","BASE_URL","Button","logo","useParams","useTicketContext","BookingDetailsPDF","id","bookings","dispatch","fetchPosts","response","fetch","json","ok","type","payload","pdfGenerate","console","error","doc","text","fullName","phone","userId","userEmail","guestSize","Date","bookAt","toLocaleString","save","textAlign","map","booking","index"],"sources":["/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\n\nconst BookingDetailsPDF = () => {\n    const { id } = useParams();\n    // const [booking, setBooking] = useState(null);\n\n    const {bookings, dispatch} = useTicketContext()\n\n    useEffect (() => {\n        const fetchPosts = async () => {\n\n            const response = await fetch (`${BASE_URL}/booking`)\n            const json = await response.json()\n\n            if (response.ok) {\n            dispatch({type: 'SET_TICKETS', payload: json})\n                // setPosts(json)\n           \n            }\n        }\n\n        fetchPosts()\n     }, [])\n\n    const pdfGenerate = () => {\n        if (!bookings) {\n            console.error(\"Booking details not available\");\n            return;\n        }\n\n        // Generate PDF using booking details\n        const doc = new jsPDF();\n        doc.text(10, 10, `Full Name: ${bookings.fullName}`);\n        doc.text(10, 20, `Phone: ${bookings.phone}`);\n        doc.text(10, 30, `User ID: ${bookings.userId}`);\n        doc.text(10, 40, `Email: ${bookings.userEmail}`);\n        doc.text(10, 50, `Guest Size: ${bookings.guestSize}`);\n        doc.text(10, 60, `Booked At: ${new Date(bookings.bookAt).toLocaleString()}`);\n\n        // Save the PDF\n        doc.save(\"ticket.pdf\");\n    };\n\n    return (\n        <div style={{ textAlign: 'center' }}>\n            {/* <Button onClick={fetchBookingDetails}>Fetch Booking Details</Button> */}\n            <br />\n            <Button onClick={pdfGenerate}>Download Ticket</Button>\n            {\n                bookings.map((booking, index) => {\n                    <h1>{booking}</h1>\n                })\n            }\n        </div>\n    );\n};\n\nexport default BookingDetailsPDF;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,MAAM,QAAQ,YAAY;AACnC,OAAOC,IAAI,MAAM,8BAA8B;AAC/C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,gBAAgB,QAAQ,6BAA6B;AAAC;AAE/D,MAAMC,iBAAiB,GAAG,MAAM;EAAA;EAC5B,MAAM;IAAEC;EAAG,CAAC,GAAGH,SAAS,EAAE;EAC1B;;EAEA,MAAM;IAACI,QAAQ;IAAEC;EAAQ,CAAC,GAAGJ,gBAAgB,EAAE;EAE/CN,SAAS,CAAE,MAAM;IACb,MAAMW,UAAU,GAAG,YAAY;MAE3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAG,GAAEX,QAAS,UAAS,CAAC;MACpD,MAAMY,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;MAElC,IAAIF,QAAQ,CAACG,EAAE,EAAE;QACjBL,QAAQ,CAAC;UAACM,IAAI,EAAE,aAAa;UAAEC,OAAO,EAAEH;QAAI,CAAC,CAAC;QAC1C;MAEJ;IACJ,CAAC;;IAEDH,UAAU,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEP,MAAMO,WAAW,GAAG,MAAM;IACtB,IAAI,CAACT,QAAQ,EAAE;MACXU,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC;MAC9C;IACJ;;IAEA;IACA,MAAMC,GAAG,GAAG,IAAIpB,KAAK,EAAE;IACvBoB,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAab,QAAQ,CAACc,QAAS,EAAC,CAAC;IACnDF,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASb,QAAQ,CAACe,KAAM,EAAC,CAAC;IAC5CH,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,YAAWb,QAAQ,CAACgB,MAAO,EAAC,CAAC;IAC/CJ,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASb,QAAQ,CAACiB,SAAU,EAAC,CAAC;IAChDL,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,eAAcb,QAAQ,CAACkB,SAAU,EAAC,CAAC;IACrDN,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAa,IAAIM,IAAI,CAACnB,QAAQ,CAACoB,MAAM,CAAC,CAACC,cAAc,EAAG,EAAC,CAAC;;IAE5E;IACAT,GAAG,CAACU,IAAI,CAAC,YAAY,CAAC;EAC1B,CAAC;EAED,oBACI;IAAK,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAA,wBAEhC;MAAA;MAAA;MAAA;IAAA,QAAM,eACN,QAAC,MAAM;MAAC,OAAO,EAAEd,WAAY;MAAA,UAAC;IAAe;MAAA;MAAA;MAAA;IAAA,QAAS,EAElDT,QAAQ,CAACwB,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,KAAK;MAC7B;QAAA,UAAKD;MAAO;QAAA;QAAA;QAAA;MAAA,QAAM;IACtB,CAAC,CAAC;EAAA;IAAA;IAAA;IAAA;EAAA,QAEJ;AAEd,CAAC;AAAC,GArDI3B,iBAAiB;EAAA,QACJF,SAAS,EAGKC,gBAAgB;AAAA;AAAA,KAJ3CC,iBAAiB;AAuDvB,eAAeA,iBAAiB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}