{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingDetailsPDF = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  // const [booking, setBooking] = useState(null);\n\n  const {\n    bookings,\n    dispatch\n  } = useTicketContext();\n  const fetchBookingDetails = async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/booking`);\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch booking details\");\n      }\n      const booking = await response.json();\n      setBookingDetails(booking);\n    } catch (error) {\n      console.error(\"Error fetching booking details:\", error);\n    }\n  };\n  const pdfGenerate = () => {\n    if (!bookingDetails) {\n      console.error(\"Booking details not available\");\n      return;\n    }\n\n    // Generate PDF using booking details\n    const doc = new jsPDF();\n    doc.text(10, 10, `Full Name: ${bookingDetails.fullName}`);\n    doc.text(10, 20, `Phone: ${bookingDetails.phone}`);\n    doc.text(10, 30, `User ID: ${bookingDetails.userId}`);\n    doc.text(10, 40, `Email: ${bookingDetails.userEmail}`);\n    doc.text(10, 50, `Guest Size: ${bookingDetails.guestSize}`);\n    doc.text(10, 60, `Booked At: ${new Date(bookingDetails.bookAt).toLocaleString()}`);\n\n    // Save the PDF\n    doc.save(\"ticket.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: fetchBookingDetails,\n      children: \"Fetch Booking Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: pdfGenerate,\n      children: \"Download Ticket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(BookingDetailsPDF, \"KJu0aiOHr2rHYSvbGRUFzUiE0fs=\", false, function () {\n  return [useParams, useTicketContext];\n});\n_c = BookingDetailsPDF;\nexport default BookingDetailsPDF;\nvar _c;\n$RefreshReg$(_c, \"BookingDetailsPDF\");","map":{"version":3,"names":["React","useState","jsPDF","BASE_URL","Button","logo","useParams","useTicketContext","BookingDetailsPDF","id","bookings","dispatch","fetchBookingDetails","response","fetch","ok","Error","booking","json","setBookingDetails","error","console","pdfGenerate","bookingDetails","doc","text","fullName","phone","userId","userEmail","guestSize","Date","bookAt","toLocaleString","save","textAlign"],"sources":["/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js"],"sourcesContent":["import React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\n\nconst BookingDetailsPDF = () => {\n    const { id } = useParams();\n    // const [booking, setBooking] = useState(null);\n\n    const {bookings, dispatch} = useTicketContext()\n\n    const fetchBookingDetails = async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/booking`);\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch booking details\");\n            }\n            const booking = await response.json();\n            setBookingDetails(booking);\n        } catch (error) {\n            console.error(\"Error fetching booking details:\", error);\n        }\n    };\n\n    const pdfGenerate = () => {\n        if (!bookingDetails) {\n            console.error(\"Booking details not available\");\n            return;\n        }\n\n        // Generate PDF using booking details\n        const doc = new jsPDF();\n        doc.text(10, 10, `Full Name: ${bookingDetails.fullName}`);\n        doc.text(10, 20, `Phone: ${bookingDetails.phone}`);\n        doc.text(10, 30, `User ID: ${bookingDetails.userId}`);\n        doc.text(10, 40, `Email: ${bookingDetails.userEmail}`);\n        doc.text(10, 50, `Guest Size: ${bookingDetails.guestSize}`);\n        doc.text(10, 60, `Booked At: ${new Date(bookingDetails.bookAt).toLocaleString()}`);\n\n        // Save the PDF\n        doc.save(\"ticket.pdf\");\n    };\n\n    return (\n        <div style={{ textAlign: 'center' }}>\n            <Button onClick={fetchBookingDetails}>Fetch Booking Details</Button>\n            <br />\n            <Button onClick={pdfGenerate}>Download Ticket</Button>\n        </div>\n    );\n};\n\nexport default BookingDetailsPDF;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,MAAM,QAAQ,YAAY;AACnC,OAAOC,IAAI,MAAM,8BAA8B;AAC/C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,gBAAgB,QAAQ,6BAA6B;AAAC;AAE/D,MAAMC,iBAAiB,GAAG,MAAM;EAAA;EAC5B,MAAM;IAAEC;EAAG,CAAC,GAAGH,SAAS,EAAE;EAC1B;;EAEA,MAAM;IAACI,QAAQ;IAAEC;EAAQ,CAAC,GAAGJ,gBAAgB,EAAE;EAE/C,MAAMK,mBAAmB,GAAG,YAAY;IACpC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEX,QAAS,UAAS,CAAC;MACnD,IAAI,CAACU,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;MACtD;MACA,MAAMC,OAAO,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MACrCC,iBAAiB,CAACF,OAAO,CAAC;IAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IAC3D;EACJ,CAAC;EAED,MAAME,WAAW,GAAG,MAAM;IACtB,IAAI,CAACC,cAAc,EAAE;MACjBF,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAC;MAC9C;IACJ;;IAEA;IACA,MAAMI,GAAG,GAAG,IAAItB,KAAK,EAAE;IACvBsB,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAaF,cAAc,CAACG,QAAS,EAAC,CAAC;IACzDF,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASF,cAAc,CAACI,KAAM,EAAC,CAAC;IAClDH,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,YAAWF,cAAc,CAACK,MAAO,EAAC,CAAC;IACrDJ,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASF,cAAc,CAACM,SAAU,EAAC,CAAC;IACtDL,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,eAAcF,cAAc,CAACO,SAAU,EAAC,CAAC;IAC3DN,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAa,IAAIM,IAAI,CAACR,cAAc,CAACS,MAAM,CAAC,CAACC,cAAc,EAAG,EAAC,CAAC;;IAElF;IACAT,GAAG,CAACU,IAAI,CAAC,YAAY,CAAC;EAC1B,CAAC;EAED,oBACI;IAAK,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAA,wBAChC,QAAC,MAAM;MAAC,OAAO,EAAEvB,mBAAoB;MAAA,UAAC;IAAqB;MAAA;MAAA;MAAA;IAAA,QAAS,eACpE;MAAA;MAAA;MAAA;IAAA,QAAM,eACN,QAAC,MAAM;MAAC,OAAO,EAAEU,WAAY;MAAA,UAAC;IAAe;MAAA;MAAA;MAAA;IAAA,QAAS;EAAA;IAAA;IAAA;IAAA;EAAA,QACpD;AAEd,CAAC;AAAC,GA7CId,iBAAiB;EAAA,QACJF,SAAS,EAGKC,gBAAgB;AAAA;AAAA,KAJ3CC,iBAAiB;AA+CvB,eAAeA,iBAAiB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}