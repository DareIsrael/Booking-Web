{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingDetailsPDF = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  // const [booking, setBooking] = useState(null);\n\n  const {\n    bookings,\n    dispatch\n  } = useTicketContext();\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const response = await fetch(`${BASE_URL}/booking/${id}`);\n      const json = await response.json();\n      if (response.ok) {\n        dispatch({\n          type: 'SET_POSTS',\n          payload: json\n        });\n        // setPosts(json)\n      }\n    };\n\n    fetchPosts();\n  }, []);\n  const pdfGenerate = () => {\n    if (!bookingDetails) {\n      console.error(\"Booking details not available\");\n      return;\n    }\n\n    // Generate PDF using booking details\n    const doc = new jsPDF();\n    doc.text(10, 10, `Full Name: ${bookingDetails.fullName}`);\n    doc.text(10, 20, `Phone: ${bookingDetails.phone}`);\n    doc.text(10, 30, `User ID: ${bookingDetails.userId}`);\n    doc.text(10, 40, `Email: ${bookingDetails.userEmail}`);\n    doc.text(10, 50, `Guest Size: ${bookingDetails.guestSize}`);\n    doc.text(10, 60, `Booked At: ${new Date(bookingDetails.bookAt).toLocaleString()}`);\n\n    // Save the PDF\n    doc.save(\"ticket.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: fetchBookingDetails,\n      children: \"Fetch Booking Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: pdfGenerate,\n      children: \"Download Ticket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(BookingDetailsPDF, \"IHixH423fO4dHZ4VbusZa0YhGSc=\", false, function () {\n  return [useParams, useTicketContext];\n});\n_c = BookingDetailsPDF;\nexport default BookingDetailsPDF;\nvar _c;\n$RefreshReg$(_c, \"BookingDetailsPDF\");","map":{"version":3,"names":["React","useState","jsPDF","BASE_URL","Button","logo","useParams","useTicketContext","BookingDetailsPDF","id","bookings","dispatch","useEffect","fetchPosts","response","fetch","json","ok","type","payload","pdfGenerate","bookingDetails","console","error","doc","text","fullName","phone","userId","userEmail","guestSize","Date","bookAt","toLocaleString","save","textAlign","fetchBookingDetails"],"sources":["/Users/macbookair/WithYou/MernStack-Tour-Management/tour-management/frontend/src/components/Booking/BookingDetailsPdf.js"],"sourcesContent":["import React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport { BASE_URL } from '../../utils/config';\nimport { Button } from 'reactstrap';\nimport logo from '../../assets/images/logo.png';\nimport { useParams } from 'react-router-dom';\nimport { useTicketContext } from '../context/useTicketContext';\n\nconst BookingDetailsPDF = () => {\n    const { id } = useParams();\n    // const [booking, setBooking] = useState(null);\n\n    const {bookings, dispatch} = useTicketContext()\n\n    useEffect (() => {\n        const fetchPosts = async () => {\n\n            const response = await fetch (`${BASE_URL}/booking/${id}`)\n            const json = await response.json()\n\n            if (response.ok) {\n            dispatch({type: 'SET_POSTS', payload: json})\n                // setPosts(json)\n           \n            }\n        }\n\n        fetchPosts()\n     }, [])\n\n    const pdfGenerate = () => {\n        if (!bookingDetails) {\n            console.error(\"Booking details not available\");\n            return;\n        }\n\n        // Generate PDF using booking details\n        const doc = new jsPDF();\n        doc.text(10, 10, `Full Name: ${bookingDetails.fullName}`);\n        doc.text(10, 20, `Phone: ${bookingDetails.phone}`);\n        doc.text(10, 30, `User ID: ${bookingDetails.userId}`);\n        doc.text(10, 40, `Email: ${bookingDetails.userEmail}`);\n        doc.text(10, 50, `Guest Size: ${bookingDetails.guestSize}`);\n        doc.text(10, 60, `Booked At: ${new Date(bookingDetails.bookAt).toLocaleString()}`);\n\n        // Save the PDF\n        doc.save(\"ticket.pdf\");\n    };\n\n    return (\n        <div style={{ textAlign: 'center' }}>\n            <Button onClick={fetchBookingDetails}>Fetch Booking Details</Button>\n            <br />\n            <Button onClick={pdfGenerate}>Download Ticket</Button>\n        </div>\n    );\n};\n\nexport default BookingDetailsPDF;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,MAAM,QAAQ,YAAY;AACnC,OAAOC,IAAI,MAAM,8BAA8B;AAC/C,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,gBAAgB,QAAQ,6BAA6B;AAAC;AAE/D,MAAMC,iBAAiB,GAAG,MAAM;EAAA;EAC5B,MAAM;IAAEC;EAAG,CAAC,GAAGH,SAAS,EAAE;EAC1B;;EAEA,MAAM;IAACI,QAAQ;IAAEC;EAAQ,CAAC,GAAGJ,gBAAgB,EAAE;EAE/CK,SAAS,CAAE,MAAM;IACb,MAAMC,UAAU,GAAG,YAAY;MAE3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAG,GAAEZ,QAAS,YAAWM,EAAG,EAAC,CAAC;MAC1D,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;MAElC,IAAIF,QAAQ,CAACG,EAAE,EAAE;QACjBN,QAAQ,CAAC;UAACO,IAAI,EAAE,WAAW;UAAEC,OAAO,EAAEH;QAAI,CAAC,CAAC;QACxC;MAEJ;IACJ,CAAC;;IAEDH,UAAU,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEP,MAAMO,WAAW,GAAG,MAAM;IACtB,IAAI,CAACC,cAAc,EAAE;MACjBC,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC;MAC9C;IACJ;;IAEA;IACA,MAAMC,GAAG,GAAG,IAAItB,KAAK,EAAE;IACvBsB,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAaJ,cAAc,CAACK,QAAS,EAAC,CAAC;IACzDF,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASJ,cAAc,CAACM,KAAM,EAAC,CAAC;IAClDH,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,YAAWJ,cAAc,CAACO,MAAO,EAAC,CAAC;IACrDJ,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,UAASJ,cAAc,CAACQ,SAAU,EAAC,CAAC;IACtDL,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,eAAcJ,cAAc,CAACS,SAAU,EAAC,CAAC;IAC3DN,GAAG,CAACC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAG,cAAa,IAAIM,IAAI,CAACV,cAAc,CAACW,MAAM,CAAC,CAACC,cAAc,EAAG,EAAC,CAAC;;IAElF;IACAT,GAAG,CAACU,IAAI,CAAC,YAAY,CAAC;EAC1B,CAAC;EAED,oBACI;IAAK,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAS,CAAE;IAAA,wBAChC,QAAC,MAAM;MAAC,OAAO,EAAEC,mBAAoB;MAAA,UAAC;IAAqB;MAAA;MAAA;MAAA;IAAA,QAAS,eACpE;MAAA;MAAA;MAAA;IAAA,QAAM,eACN,QAAC,MAAM;MAAC,OAAO,EAAEhB,WAAY;MAAA,UAAC;IAAe;MAAA;MAAA;MAAA;IAAA,QAAS;EAAA;IAAA;IAAA;IAAA;EAAA,QACpD;AAEd,CAAC;AAAC,GAhDIZ,iBAAiB;EAAA,QACJF,SAAS,EAGKC,gBAAgB;AAAA;AAAA,KAJ3CC,iBAAiB;AAkDvB,eAAeA,iBAAiB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}